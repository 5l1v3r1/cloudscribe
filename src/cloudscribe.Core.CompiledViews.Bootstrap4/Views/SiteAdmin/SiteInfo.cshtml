@model cloudscribe.Core.Web.ViewModels.SiteSettings.SiteBasicSettingsViewModel
@inject ICoreThemeHelper themeHelper
@inject IStringLocalizer<CloudscribeCore> sr
@{
    var themeSettings = themeHelper.GetThemeSettings();
    if (themeSettings.AdminSideNavExpanded) { ViewData["SideNavToggle"] = "show"; }
    ViewData["SideNavVisible"] = true;
}
@section Styles {
    <link rel="stylesheet" href="/cr/css/dropzone.min.css" />
    <link rel="stylesheet" href="/cr/css/croppie.min.css" />
    <link rel="stylesheet" href="/cr/css/croppie-cloudscribe.css" />
}

<h2>@ViewBag.Title</h2>
<partial name="_BasicSettingsPartial" model="Model" />
@section SideNav {
    <partial name="AdminSideNav" />
}
@section Toolbar{
    <partial name="AdminSideNavToggle" />
}
@section scripts {
    <partial name="AdminSideNavScripts" />
    <script src="~/cr/js/jquery.validate.min.js"></script>
    <script src="~/cr/js/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/cr/js/unobtrusive-validation-bs4.min.js"></script>
    <script src="~/cr/js/jquery.validate.hooks.min.js"></script>
    <script src="~/cr/js/jqueryvaildation.submitonce-unobtrusive.min.js"></script>
    <script src="~/cr/js/remote-validation-onblur-unobtrusive.min.js"></script>
    <script src="~/cr/js/ckeditor461/ckeditor.js"></script>
    <script src="~/cr/js/cloudscribe-ckeditor-unobtrusive.min.js"></script>

    <script src="/cr/js/dropzone.min.js"></script>
    <script src="/cr/js/croppie.min.js"></script>
    <script src="/filemanager/js/cloudscribe-unobtrusive-file-drop.min.js"></script>
    <script>

        document.addEventListener("DOMContentLoaded", function () {
            var btnClear = document.getElementById("dz1-clear-image");
            if (btnClear) {
                btnClear.onclick = function ClearLogo() {
                    var hidden = document.getElementById("imgUrlFull");
                    if (hidden) {
                        hidden.value = '';
                    }
                    var img = document.getElementById("dz1Image");
                    if (img) {
                        img.src = "/cr/images/690x517-placeholder.png";
                    }
                };
            }

        });

        
    </script>
}
